## 进程和线程

### 进程

进程是资源（CPU、内存等）分配的基本单位，具有一定独立功能的程序关于某个数据集合上的一次运行活动，进程是系统进行**资源分配**的一个独立单位。

### 线程

线程是进程的一个实体，是**独立运行和独立调度**的基本单位。（CPU上真正运行的是线程）。线程自己基本上不拥有系统资源，只拥有一点在运行中必不可少的资源（如程序计数器，一组寄存器和栈），但是它可与同属一个进程的其他线程共享进程所拥有的全部资源。

> 阮一峰：[进程与线程的一个简单解释](https://link.zhihu.com/?target=http%3A//www.ruanyifeng.com/blog/2013/04/processes_and_threads.html)

### 区别

1. 进程是**资源分配**的基本单位；线程是**程序执行**的基本单位。
2. 进程**拥有自己的资源空间**，每启动一个进程，系统就会为它分配地址空间；而线程与CPU资源分配无关，多个线程**共享同一进程内的资源**，使用相同的地址空间。
3. 一个进程可以包含若干个线程。

### 优劣

- 线程之间共享进程的资源（全局变量，静态变量）

  进程之间需要以IPC的方式通信

- 线程的调度与切换比进程快很多，同时创建一个线程的开销也比进程要小很多。

- 一个线程的崩溃会导致整个进程的崩溃

  而一个进程的崩溃不会对另一个进程造成影响，因为进程有自己独立的地址空间